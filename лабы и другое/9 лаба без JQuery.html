<html>
<head>
    <title>Перемещение и не только!</title>
    <script>
        operation = false;
        pc = null;
        window.onload = initdrag;
        function initdrag() { 
            document.body.onmousemove = drag;
            document.body.onmouseup = dragend;
        }
        function dragstart(evt) {    
            operation = true; 
            var e = evt.srcElement;   
            if (!e) e = evt.target; 
            pc = e.id;    
            if (!pc) {   
                pc = "xid_" + parseInt((1 + 99999 * Math.random()));
                e.id = pc
                if (e.tagName.toLowerCase() == "input" ||
                                  e.tagName.toLowerCase() == "textarea")
                    return false;
            }
            if (document.getElementById(pc) &&
            (document.getElementById(pc).className == "dragelement")) {
                if (!document.getElementById(pc).style.position) {
                    document.getElementById(pc).style.position = "relative"
                }
                document.getElementById(pc).style.cursor = 'move';
                document.getElementById(pc).style.zIndex++;
            }
            return false
        }
        function drag(event) {    
            if (document.getElementById(pc) && (document.getElementById(pc).className == "dragelement")) {
                var evt;
                if (event) { evt = event } else { evt = window.event };
                document.getElementById(pc).style.top = evt.clientY - 25;
                document.getElementById(pc).style.left = evt.clientX - 25;
            }
            return false
        }
        function dragend() {      
            document.getElementById(pc).style.cursor = "auto";
            operation = false; 
            pc = null
        }
    </script>
    <script>

function fimove()
{
    dx = 0;
    dy = 3;
    setInterval("timove()", 25);
    timove();
}
function timove()
{
    var y = parseInt(document.all.tri.style.top);
    var x = parseInt(document.all.tri.style.left);
    document.all.tri.style.top = y + dy;
    document.all.tri.style.left = x + dx;
    if (parseInt(document.all.tri.style.top) > 800) {
        document.all.tri.style.top = 20;
        document.all.tri.style.left = 200;
    }
}
fimove();
    </script>
    <script>
    var action, a = -1, b = 0.2, c = 10;
    function startmove() {
        dynamic.style.left = parseInt(document.body.offsetWidth) / 3 + 20;
        dynamic.style.top = 10;
        action = window.setInterval("move2()", 240);
    }
    function move2() {
        px = parseInt(dynamic.style.left);
        px = px + a * c;
        dynamic.style.left = px;
        if (px <= parseInt(document.body.offsetWidth) / 3 - 20 || px >= parseInt(document.body.offsetWidth) / 3 + 20) {
            a = -a
        }
        pt = parseInt(dynamic.style.top);
        pt = pt + b * c;
        dynamic.style.top = pt;
        if (pt <= 0 || pt >= 30) {
            b = -b
        }
    }
    </script>
    <script>
  function five(){
   function one(){
       document.write(" <style>div{position:absolute}</style> ");
     w=screen.width; h=screen.height;
     x0=w/2; y0=h/2;
     for (i=1; i<w; i=i+8) document.write( " <div style='top: " +y0+ " ; left: " +i+ " '>_</div> " );
     for (i = 1; i < h; i = i + 8) document.write(" <div style='left: " + x0 + " ; top: " + i + " '>|</div> ");
     var a = prompt('Введите цвет графика(Красный или Зелёный или Жёлтый иначе Чёрный):');
     if (a == 'Красный')
     {
         document.write("<font color=red>");
     }
     else
     {
         if(a=='Зелёный')
         {
             document.write('<font color=green>');
         }
         else
         {
             if(a=='Жёлтый')
             {
                 document.write('<font color=yellow>');
             }
             else
             {
                 document.write('<font color=black>');
             }
         }
     }
     kx = w / 70; ky = h / 70;
     for ( x = - 3.25; x < 20; x = x + 0.01 )
     {
     y=x*x*x;
     document.write("<div style='left:"+(x0+kx*x)+";top:"+(y0-ky*y +3)+"'>.</div>");
     }
   }

   function two(){
     document.write(" <style>div{position:absolute}</style> ");
     w=screen.width; h=screen.height;
     x0=w/2; y0=h/2;
     for (i=1; i<w; i=i+8) document.write( " <div style='top: " +y0+ " ; left: " +i+ " '>_</div> " );
     for (i = 1; i < h; i = i + 8) document.write(" <div style='left: " + x0 + " ; top: " + i + " '>|</div> ");
     var a = prompt('Введите цвет графика(Красный или Зелёный или Жёлтый иначе Чёрный):');
     if (a == 'Красный') {
         document.write("<font color=red>");
     }
     else {
         if (a == 'Зелёный') {
             document.write('<font color=green>');
         }
         else {
             if (a == 'Жёлтый') {
                 document.write('<font color=yellow>');
             }
             else {
                 document.write('<font color=black>');
             }
         }
     }
     kx= w/70; ky= h/70;
     for ( x = - 20; x < 20; x = x + 0.01 )
     {
     y=x*x;
     document.write("<div style='left:"+(x0+kx*x)+";top:"+(y0-ky*y +3)+" '>.</div>");
     }
   }


   function three(){
     document.write(" <style>div{position:absolute}</style> ");
     w=screen.width; h=screen.height;
     x0=w/2; y0=h/2;
     for (i=1; i<w; i=i+8) document.write( " <div style='top: " +y0+ " ; left: " +i+ " '>_</div> " );
     for (i = 1; i < h; i = i + 8) document.write(" <div style='left: " + x0 + " ; top: " + i + " '>|</div> ");
     var a = prompt('Введите цвет графика(Красный или Зелёный или Жёлтый иначе Чёрный):');
     if (a == 'Красный') {
         document.write("<font color=red>");
     }
     else {
         if (a == 'Зелёный') {
             document.write('<font color=green>');
         }
         else {
             if (a == 'Жёлтый') {
                 document.write('<font color=yellow>');
             }
             else {
                 document.write('<font color=black>');
             }
         }
     }
     kx= w/70; ky= h/70;
     for ( x = -39; x < 34; x = x + 0.01 )
     {
     y=Math.cos(x);
     document.write("<div style='left:"+(x0+kx*x)+";top:"+(y0-ky*y +3)+" '>.</div>");
     }
   }


   function four(){
     document.write(" <style>div{position:absolute}</style> ");
     w=screen.width; h=screen.height;
     x0=w/2; y0=h/2;
     for (i=1; i<w; i=i+8) document.write( " <div style='top: " +y0+ " ; left: " +i+ " '>_</div> " );
     for (i = 1; i < h; i = i + 8) document.write(" <div style='left: " + x0 + " ; top: " + i + " '>|</div> ");
     var a = prompt('Введите цвет графика(Красный или Зелёный или Жёлтый иначе Чёрный):');
     if (a == 'Красный') {
         document.write("<font color=red>");
     }
     else {
         if (a == 'Зелёный') {
             document.write('<font color=green>');
         }
         else {
             if (a == 'Жёлтый') {
                 document.write('<font color=yellow>');
             }
             else {
                 document.write('<font color=black>');
             }
         }
     }
     kx= w/70; ky= h/70;
     for ( x = -35; x < 35; x = x + 0.01 )
     {
     y=Math.sin(x);
     document.write("<div style='left:"+(x0+kx*x)+";top:"+(y0-ky*y +3)+" '>.</div>");
     }
   }


     if (document.getElementById('labl1').checked)
	 var buf=document.getElementById('labl1').innerHTML+=one()
	 if (document.getElementById('labl2').checked)
	 var buf=document.getElementById('labl2').innerHTML+=two()
	 if (document.getElementById('labl3').checked)
	 var buf=document.getElementById('labl3').innerHTML+=three()
	 if (document.getElementById('labl4').checked)
	 var buf=document.getElementById('labl4').innerHTML+=four()

   }
    </script>
</head>
<body id="mybody" onmousedown="return dragstart(event)">
    <img id="tri" src="i2.jpg" style="position:absolute;top:20px;left:200px" />
    <div id="dynamic" style="position:absolute;"><img src="3.jpg" width="100" height="100" style="position:absolute; top:500px; left:100px;"></div>
    <form>
        <input type='button' onclick='five()' value='Построить график'><br>
        <label>
            <input type='radio' name='m' id="labl1">y=x^3<br>
            <input type='radio' name='m' id="labl2">y=x^2<br>
            <input type='radio' name='m' id="labl3">y=cos(x)<br>
            <input type='radio' name='m' id="labl4">y=sin(x)<br>
        </label>
    </form>
    <input type="button" onclick="startmove()" />
    <br />
    <IMG src="i2.jpg" class="dragelement" style="position:absolute;top:150px;left:10px" width="300">
    <IMG src="i.jpg" class="dragelement" style="position:absolute;top:100px;left:300px" width="300">
    <B id="txt" class="dragelement">АААААААААААААА!</B>
    <BR>
    <INPUT type="text" class="dragelement" value="Драсьте"> 
</body>
</html>